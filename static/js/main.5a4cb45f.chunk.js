(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,function(e,n,t){e.exports=t(19)},,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(0),l=t.n(a),r=t(2),c=t.n(r),i=t(3),s=t(4),o=t(6),m=t(5),u=t(7),f=function(){return l.a.createElement("h1",{style:{textAlign:"center"}},"Twich Viewer: API Practice")},h=(t(14),function(e){var n="Online"===e.status?"online":"offline";return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"legend ".concat(n)}),l.a.createElement("span",null,e.status))}),g=(t(15),function(e){return l.a.createElement("a",{href:e.twichLink},l.a.createElement("ul",{className:"".concat(e.status," flexcontainer")},l.a.createElement("div",{className:"column1"},l.a.createElement("li",null,l.a.createElement("div",{className:"imgContainer"},l.a.createElement("img",{className:"profileImg",src:e.logo,alt:"Streamer Avatar"})))),l.a.createElement("div",{className:"column2"},l.a.createElement("li",{className:"border-bottom"},l.a.createElement("div",{className:"linkContainer"},e.streamName)),"offline"===e.status?"":l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement("strong",null,"Viewers: "),e.viewers.toLocaleString(void 0,{minimumFractionDigits:0})),l.a.createElement("li",null,l.a.createElement("strong",null,"Currently streaming: "),l.a.createElement("i",null,e.game))))))}),d=(t(16),function(){return l.a.createElement("div",{className:"lds-dual-ring"},l.a.createElement("span",{className:"loadtext mb_hide"},"Loading..."))}),E=(t(17),function(e){if(e.onlineChannels||e.offlineChannels){var n=e.offlineChannels.map(function(e){return l.a.createElement(g,{key:e._id,status:"offline",streamName:e.display_name,logo:e.logo,twichLink:"https://www.twitch.tv/"+e.display_name,bio:e.bio})}),t=e.onlineChannels.map(function(e){return l.a.createElement(g,{key:e.stream._id,status:"online",streamName:e.stream.channel.display_name,logo:e.stream.channel.logo,twichLink:"https://www.twitch.tv/"+e.stream.channel.display_name,viewers:e.stream.viewers,game:e.stream.game})});return l.a.createElement("div",{className:"cardList"},t,n)}return l.a.createElement(d,null)}),p=["ESL_SC2","OgamingSC2","cretetion","freecodecamp","storbeck","habathcx","RobotCaleb","noobs2ninjas"],w=function(e){function n(){var e,t;Object(i.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(n)).call.apply(e,[this].concat(l)))).state={offlineChannels:null,onlineChannels:null},t}return Object(u.a)(n,e),Object(s.a)(n,[{key:"componentDidMount",value:function(){for(var e=this,n=[],t=[],a=function(e,a){return fetch(a+"streams/"+e).then(function(e){return e.json()}).then(function(l){if(console.log("Request successful"),null===l.stream)return fetch(a+"users/"+e).then(function(e){return e.json()}).then(function(e){n.push(e)}).catch(function(e){return console.log("Request failed",e)});t.push(l)}).catch(function(e){return console.log("Request failed",e)})},l=[],r=0;r<p.length;r++)l.push(a(p[r],"https://wind-bow.glitch.me/twitch-api/"));Promise.all(l).then(function(){e.setState({offlineChannels:n,onlineChannels:t})}).catch(function(e){console.log(e+"Something wrong happened retreiving the data")})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("header",null,l.a.createElement(f,null)),l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement(h,{status:"Online"}),l.a.createElement(h,{status:"Offline"})),l.a.createElement(E,{onlineChannels:this.state.onlineChannels,offlineChannels:this.state.offlineChannels}))}}]),n}(l.a.Component);t(18);c.a.render(l.a.createElement(w,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.5a4cb45f.chunk.js.map